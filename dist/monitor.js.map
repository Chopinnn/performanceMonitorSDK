{"version":3,"file":"monitor.js","sources":["../SDK/config.js","../SDK/utils.js","../SDK/cache.js","../SDK/report.js","../SDK/performance/fetch.js","../SDK/performance/observeEntries.js","../SDK/performance/observeLCP.js","../SDK/performance/observeFCP.js","../SDK/performance/observeLoad.js","../SDK/performance/observeFP.js","../SDK/performance/xhr.js","../SDK/performance/index.js","../SDK/error/index.js","../SDK/behavior/onClick.js","../SDK/behavior/pageChange.js","../SDK/behavior/pageView.js","../SDK/behavior/index.js","../SDK/webSDK.js"],"sourcesContent":["const config = {\r\n    url: '',\r\n    projectName: 'SDK',\r\n    appId: '123456',\r\n    userId: '123456',\r\n    isImageUpload: false,   // 是否使用图片上报\r\n    batchSize: 5,\r\n};\r\n\r\nexport function setConfig(options) {\r\n    for (const key in config) {\r\n        if (options[key]) {\r\n            config[key] = options[key];\r\n        }\r\n    }\r\n}\r\n\r\nexport default config;","\r\nexport function deepCopy(target) {\r\n    if (typeof target === 'object') {\r\n        const result = Array.isArray(target) ? [] : {};\r\n        for (const key in target) {\r\n            if (typeof target[key] == 'object') {\r\n                result[key] = deepCopy(target[key]);\r\n            } else {\r\n                result[key] = target[key];\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    return target\r\n}\r\n\r\nexport function generateUniqueId() {\r\n    return 'id-' + Date.now() + '-' + Math.random().toString(36).substring(2, 9)\r\n}","import { deepCopy } from './utils.js';\r\n\r\nconst cache = [];\r\n\r\nexport function getCache() {\r\n    return deepCopy(cache);\r\n}\r\n\r\nexport function addCache(data) {\r\n    cache.push(data);\r\n}\r\n\r\nexport function clearCache() {\r\n    cache.length = 0;\r\n}","import config from './config';\r\nimport {generateUniqueId} from './utils';\r\nimport {addCache, getCache, clearCache} from './cache';\r\nexport const originalProto = XMLHttpRequest.prototype;\r\nexport const originalOpen = XMLHttpRequest.prototype.open;\r\nexport const originalSend = XMLHttpRequest.prototype.send;\r\nexport function isSupportSendBeacon() {\r\n    return 'sendBeacon' in navigator;\r\n}\r\nexport function report(data) {\r\n    if (!config.url) {\r\n        console.error('请设置上传 url 地址');\r\n    }\r\n    const reportData = JSON.stringify({\r\n        id: generateUniqueId(),\r\n        data,\r\n    });\r\n    // 上报数据，使用图片的方式\r\n    if (config.isImageUpload) {\r\n        console.log('发送数据img');\r\n        imgRequest(reportData);\r\n    } else {\r\n        // 优先使用 sendBeacon\r\n        if (window.navigator.sendBeacon) {\r\n            console.log('发送数据sendBeacon');\r\n            return beaconRequest(reportData);\r\n        } else {\r\n            console.log('发送数据xhr');\r\n            xhrRequest(reportData);\r\n        }\r\n    }\r\n}\r\n\r\n// 批量上报数据\r\nexport function lazyReportBatch(data) {\r\n    addCache(data);\r\n    const dataCache = getCache();\r\n    console.log('dataCache', dataCache);\r\n    if (dataCache.length && dataCache.length > config.batchSize) {\r\n        report(dataCache);\r\n        clearCache();\r\n    }\r\n}\r\n\r\n// 图片发送数据\r\nexport function imgRequest(data) {\r\n    const img = new Image();\r\n    // http://127.0.0.1:8080/api?data=encodeURIComponent(data)\r\n    img.src = `${config.url}?data=${encodeURIComponent(JSON.stringify(data))}`;\r\n}\r\n\r\n// 普通ajax发送请求数据\r\nexport function xhrRequest(data) {\r\n    if (window.requestIdleCallback) {\r\n        window.requestIdleCallback(\r\n            () => {\r\n                const xhr = new XMLHttpRequest();\r\n                originalOpen.call(xhr, 'post', config.url);\r\n                originalSend.call(xhr, JSON.stringify(data));\r\n            },\r\n            { timeout: 3000 }\r\n        );\r\n    } else {\r\n        setTimeout(() => {\r\n            const xhr = new XMLHttpRequest();\r\n            originalOpen.call(xhr, 'post', url);\r\n            originalSend.call(xhr, JSON.stringify(data));\r\n        });\r\n    }\r\n}\r\n\r\nexport function beaconRequest(data) {\r\n    if (window.requestIdleCallback) {\r\n        window.requestIdleCallback(\r\n            () => {\r\n                window.navigator.sendBeacon(config.url, data);\r\n            },\r\n            { timeout: 3000 }\r\n        );\r\n    } else {\r\n        setTimeout(() => {\r\n            window.navigator.sendBeacon(config.url, data);\r\n        });\r\n    }\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nconst originalFetch = window.fetch;\r\nfunction overwriteFetch() {\r\n    window.fetch = function newFetch(url, config) {\r\n        const startTime = Date.now();\r\n        const reportData = {\r\n            type: 'performance',\r\n            subType: 'fetch',\r\n            url,\r\n            startTime,\r\n            method: config.method,\r\n        }\r\n        return originalFetch(url, config).then((res) => {\r\n            const endTime = Date.now();\r\n            reportData.endTime = endTime;\r\n            reportData.duration = endTime - startTime;\r\n            const data = res.clone();\r\n            reportData.status = data.status;\r\n            reportData.success = data.ok;\r\n            lazyReportBatch(reportData);\r\n            return res;\r\n        }).catch((err) => {\r\n            const endTime = Date.now();\r\n            reportData.endTime = endTime;\r\n            reportData.duration = endTime - startTime;\r\n            reportData.status = 0;\r\n            reportData.success = false;\r\n            lazyReportBatch(reportData);\r\n        });\r\n    }\r\n}\r\nexport default function fetch() {\r\n    overwriteFetch();\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerEntries() {\r\n    if (document.readyState === 'complete') {\r\n        observerEvent();\r\n    } else {\r\n        const onLoad = () => {\r\n            observerEvent();\r\n            window.removeEventListener('load', onLoad, true);\r\n        };\r\n        window.addEventListener('load', onLoad, true);\r\n    }\r\n}\r\n\r\nexport function observerEvent() {\r\n    const entryHandler = (list) => {\r\n        const entries = list.getEntries();\r\n        for (let entry of entries) {\r\n            if (observer) {\r\n                observer.disconnect();\r\n            }\r\n            const reportData = {\r\n                name: entry.name, // 资源的名字\r\n                type: 'performance', // 类型\r\n                subType: entry.entryType, //类型\r\n                sourceType: entry.initiatorType, // 资源类型\r\n                duration: entry.duration, // 加载时间\r\n                dns: entry.domainLookupEnd - entry.domainLookupStart, // dns解析时间\r\n                tcp: entry.connectEnd - entry.connectStart, // tcp连接时间\r\n                redirect: entry.redirectEnd - entry.redirectStart, // 重定向时间\r\n                ttfb: entry.responseStart, // 首字节时间\r\n                protocol: entry.nextHopProtocol, // 请求协议\r\n                responseBodySize: entry.encodedBodySize, // 响应内容大小\r\n                responseHeaderSize: entry.transferSize - entry.encodedBodySize, // 响应头部大小\r\n                transferSize: entry.transferSize, // 请求内容大小\r\n                resourceSize: entry.decodedBodySize, // 资源解压后的大小\r\n                startTime: performance.now(),\r\n            };\r\n            lazyReportBatch(reportData);\r\n        }\r\n    };\r\n\r\n    let observer = new PerformanceObserver(entryHandler);\r\n    observer.observe({ type: ['resource'], buffered: true });\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerLCP() {\r\n    const entryHandler = (list) => {\r\n        if (observer) {\r\n            observer.disconnect();\r\n        } \r\n        for (const entry of list.getEntries()) {\r\n            const json = entry.toJSON();\r\n            console.log(json);\r\n            const reportData = {\r\n                ...json,\r\n                type: 'performance',\r\n                subType: entry.name,\r\n                pageUrl: window.location.href,\r\n            }\r\n            lazyReportBatch(reportData);\r\n        }\r\n    }\r\n    // 统计和计算lcp的时间\r\n    const observer = new PerformanceObserver(entryHandler);\r\n    // buffered: true 确保观察到所有paint事件\r\n    observer.observe({type: 'largest-contentful-paint', buffered: true});\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerFCP() {\r\n    const entryHandler = (list) => {\r\n        for (const entry of list.getEntries()) {\r\n            if (entry.name === 'first-contentful-paint') {\r\n                observer.disconnect();\r\n                const json = entry.toJSON();\r\n                console.log(json);\r\n                const reportData = {\r\n                    ...json,\r\n                    type: 'performance',\r\n                    subType: entry.name,\r\n                    pageUrl: window.location.href,\r\n                }\r\n                lazyReportBatch(reportData);\r\n            }\r\n        }\r\n    }\r\n    // 统计和计算fcp的时间\r\n    const observer = new PerformanceObserver(entryHandler);\r\n    // buffered: true 确保观察到所有paint事件\r\n    observer.observe({type: 'paint', buffered: true});\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerLoad () {\r\n    window.addEventListener('pageShow', function (event) {\r\n        requestAnimationFrame(() =>{\r\n            ['load'].forEach((type) => {\r\n                const reportData = {\r\n                    type: 'performance',\r\n                    subType: type,\r\n                    pageUrl: window.location.href,\r\n                    startTime: performance.now()- event.timeStamp\r\n                }\r\n                // 发送数据\r\n                lazyReportBatch(reportData);\r\n            });\r\n        }, true);\r\n    });\r\n}\r\n","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerPaint() {\r\n    const entryHandler = (list) => {\r\n        for (const entry of list.getEntries()) {\r\n            if (entry.name === 'first-paint') {\r\n                observer.disconnect();\r\n                const json = entry.toJSON();\r\n                console.log(json);\r\n                const reportData = {\r\n                    ...json,\r\n                    type: 'performance',\r\n                    subType: entry.name,\r\n                    pageUrl: window.location.href,\r\n                }\r\n                lazyReportBatch(reportData);\r\n            }\r\n        }\r\n    }\r\n    // 统计和计算fp的时间\r\n    const observer = new PerformanceObserver(entryHandler);\r\n    // buffered: true 确保观察到所有paint事件\r\n    observer.observe({type: 'paint', buffered: true});\r\n}\r\n","import { lazyReportBatch } from '../report';\r\n\r\nexport const originalProto = XMLHttpRequest.prototype;\r\nexport const originalSend = originalProto.send;\r\nexport const originalOpen = originalProto.open;\r\n\r\nfunction overwriteOpenAndSend() {\r\n    originalProto.open = function newOpen(...args) {\r\n        this.url = args[1];\r\n        this.method = args[0];\r\n        originalOpen.apply(this, args);\r\n    }\r\n    originalProto.send = function newSend(...args) {\r\n        this.startTime = Date.now();\r\n        const onLoaded = () => {\r\n            this.endTime = Date.now();\r\n            this.duration = this.endTime - this.startTime;\r\n            const { url, method , startTime, endTime, duration, status} = this;\r\n            const reportData = {\r\n                status,\r\n                duration,\r\n                startTime,\r\n                endTime,\r\n                url,\r\n                method: method.toUpperCase(),\r\n                type: 'performance',\r\n                success: status >= 200 && status < 300,\r\n                subType: 'xhr'\r\n            }\r\n            lazyReportBatch(reportData);\r\n            this.removeEventListener('loadend', onLoaded, true);\r\n        }\r\n        // 请求结束时触发\r\n        this.addEventListener('loadend', onLoaded, true);\r\n        originalSend.apply(this, args);\r\n    }\r\n}\r\n\r\nexport default function xhr() {\r\n    overwriteOpenAndSend();\r\n}","import fetch from \"./fetch\";\r\nimport observeEntries from \"./observeEntries\";\r\nimport observeLCP from \"./observeLCP\";\r\nimport observeFCP from \"./observeFCP\";\r\nimport observeLoad from \"./observeLoad\";\r\nimport observeFP from \"./observeFP\";\r\nimport xhr from \"./xhr\";   \r\n\r\nexport default function performance() {\r\n    fetch();\r\n    observeEntries();\r\n    observeLCP();\r\n    observeFCP();\r\n    observeLoad();\r\n    observeFP();\r\n    xhr();\r\n}","\r\nimport { lazyReportBatch } from '../report';\r\n\r\nexport default function error() {\r\n    // 捕获资源加载失败的错误：js css img\r\n    window.addEventListener(\r\n        'error',\r\n        function (e) {\r\n            const target = e.target;\r\n            if (target.src || target.href) {\r\n                const url = target.src || target.href;\r\n                const reportData = {\r\n                    type: 'error',\r\n                    subType: 'resource',\r\n                    url,\r\n                    html: target.outerHTML,\r\n                    pageUrl: window.location.href,\r\n                    path: e.path,\r\n                };\r\n                lazyReportBatch(reportData);\r\n            }\r\n        },\r\n        true\r\n    );\r\n    // 捕获js错误\r\n    window.onerror = function (msg, url, lineNo, columnNo, error) {\r\n        const reportData = {\r\n            type: 'error',\r\n            subType: 'javascript',\r\n            msg,\r\n            url,\r\n            lineNo,\r\n            columnNo,\r\n            stack: error.stack,\r\n            pageUrl: window.location.href,\r\n            startTime: performance.now(),\r\n        };\r\n        lazyReportBatch(reportData);\r\n    };\r\n    // 捕获promise错误\r\n    window.addEventListener(\r\n        'unhandledrejection',\r\n        function (e) {\r\n            const reportData = {\r\n                type: 'error',\r\n                subType: 'promise',\r\n                reason: e.reason?.stack,\r\n                pageUrl: window.location.href,\r\n                startTime: e.timeStamp,\r\n            };\r\n            lazyReportBatch(reportData);\r\n        },\r\n        true\r\n    );\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function onClick() {\r\n    ['mousedown', 'touchstart'].forEach((eventType) => {\r\n        window.addEventListener(eventType, (e) => {\r\n            const target = e.target;\r\n            console.warn('click', target);\r\n            if (target.tagName) {\r\n                const reportData = {\r\n                    type: 'behavior',\r\n                    subType: 'click',\r\n                    target: target.tagName,\r\n                    startTime: e.timeStamp,\r\n                    innerHtml: target.innerHTML,\r\n                    outerHtml: target.outerHTML,\r\n                    width: target.offsetWidth,\r\n                    height: target.offsetHeight,\r\n                    eventType,\r\n                    path: e.path,\r\n                };\r\n                lazyReportBatch(reportData);\r\n            }\r\n        });\r\n    });\r\n}","import { lazyReportBatch } from '../report';\r\nimport { generateUniqueId } from '../utils';\r\n\r\nexport default function pageChange() {\r\n    // hash\r\n    let oldUrl1 = '';\r\n    window.addEventListener(\r\n        'hashchange',\r\n        function (event) {\r\n            console.warn('hashchange', event);\r\n            const newUrl = event.newURL;\r\n            const reportData = {\r\n                form: oldUrl1,\r\n                to: newUrl,\r\n                type: 'behavior',\r\n                subType: 'hashchange',\r\n                startTime: performance.now(),\r\n                uuid: generateUniqueId(),\r\n            };\r\n            lazyReportBatch(reportData);\r\n            oldUrl1 = newUrl;\r\n        },\r\n        true\r\n    );\r\n    // history\r\n    let oldUrl2 = '';\r\n    window.addEventListener(\r\n        'popstate',\r\n        function (event) {\r\n            console.warn('popstate', event);\r\n            const to = window.location.href;\r\n            const reportData = {\r\n                form: oldUrl2,\r\n                to: to,\r\n                type: 'behavior',\r\n                subType: 'popstate',\r\n                startTime: performance.now(),\r\n                uuid: generateUniqueId(),\r\n            };\r\n            lazyReportBatch(reportData);\r\n            oldUrl2 = to;\r\n        },\r\n        true\r\n    );\r\n\r\n}","import { lazyReportBatch } from '../report';\r\nimport { generateUniqueId } from '../utils';\r\n\r\nexport default function pageView() {\r\n    const reportData = {\r\n        type: 'behavior',\r\n        subType: 'pageView',\r\n        startTime: performance.now(),\r\n        pageUrl: window.location.href,\r\n        referror: document.referrer,\r\n        uuid: generateUniqueId(),\r\n    }\r\n    lazyReportBatch(reportData)\r\n}","import onClick from './onClick';\r\nimport pageChange from './pageChange';\r\nimport pageView from './pageView';\r\n\r\nexport default function behavior() {\r\n    onClick(),\r\n    pageChange(),\r\n    pageView()\r\n}\r\n","import performance from './performance/index';\r\nimport error from './error/index';\r\nimport behavior from './behavior/index';\r\nimport { setConfig } from './config';\r\nimport { lazyReportBatch } from './report';\r\n\r\nwindow.__webSDK__ = {\r\n    version: '0.0.1',\r\n};\r\n\r\n// 针对Vue项目的错误捕获\r\nexport function install(Vue, options) {\r\n    if (__webEyeSDK__.vue) return;\r\n    __webEyeSDK__.vue = true;\r\n    setConfig(options);\r\n    const handler = Vue.config.errorHandler;\r\n    // vue项目中 通过 Vue.config.errorHandler 捕获错误\r\n    Vue.config.errorHandler = function (err, vm, info) {\r\n        const reportData = {\r\n            info,\r\n            error: err.stack,\r\n            subType: 'vue',\r\n            type: 'error',\r\n            startTime: window.performance.now(),\r\n            pageURL: window.location.href,\r\n        };\r\n        console.log('vue error', reportData);\r\n        lazyReportBatch(reportData);\r\n        if (handler) {\r\n            handler.call(this, err, vm, info);\r\n        }\r\n    };\r\n}\r\n\r\n// 针对React项目的错误捕获\r\nexport function errorBoundary(err, info) {\r\n    if (__webEyeSDK__.react) return;\r\n    __webEyeSDK__.react = true;\r\n    const reportData = {\r\n        error: err?.stack,\r\n        info,\r\n        subType: 'react',\r\n        type: 'error',\r\n        startTime: window.performance.now(),\r\n        pageURL: window.location.href,\r\n    };\r\n    lazyReportBatch(reportData);\r\n}\r\n\r\nexport function init(options) {\r\n    setConfig(options);\r\n    performance();\r\n    error();\r\n    behavior();\r\n}\r\n\r\nexport default {\r\n    install,\r\n    errorBoundary,\r\n    performance,\r\n    error,\r\n    behavior,\r\n    init,\r\n}"],"names":["config","url","projectName","appId","userId","isImageUpload","batchSize","setConfig","options","key","deepCopy","target","_typeof","result","Array","isArray","generateUniqueId","Date","now","Math","random","toString","substring","cache","getCache","addCache","data","push","clearCache","length","originalOpen","XMLHttpRequest","prototype","open","originalSend","send","report","console","error","reportData","JSON","stringify","id","log","imgRequest","window","navigator","sendBeacon","beaconRequest","xhrRequest","lazyReportBatch","dataCache","img","Image","src","concat","encodeURIComponent","requestIdleCallback","xhr","call","timeout","setTimeout","originalFetch","fetch","overwriteFetch","newFetch","startTime","type","subType","method","then","res","endTime","duration","clone","status","success","ok","catch","err","observerEntries","document","readyState","observerEvent","onLoad","removeEventListener","addEventListener","entryHandler","list","entries","getEntries","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","value","observer","disconnect","name","entryType","sourceType","initiatorType","dns","domainLookupEnd","domainLookupStart","tcp","connectEnd","connectStart","redirect","redirectEnd","redirectStart","ttfb","responseStart","protocol","nextHopProtocol","responseBodySize","encodedBodySize","responseHeaderSize","transferSize","resourceSize","decodedBodySize","performance","e","f","PerformanceObserver","observe","buffered","observerLCP","json","toJSON","_objectSpread","pageUrl","location","href","observerFCP","observerLoad","event","requestAnimationFrame","forEach","timeStamp","observerPaint","originalProto","overwriteOpenAndSend","newOpen","_len","arguments","args","_key","apply","newSend","_this","onLoaded","toUpperCase","_len2","_key2","observeEntries","observeLCP","observeFCP","observeLoad","observeFP","html","outerHTML","path","onerror","msg","lineNo","columnNo","stack","_e$reason","reason","onClick","eventType","warn","tagName","innerHtml","innerHTML","outerHtml","width","offsetWidth","height","offsetHeight","pageChange","oldUrl1","newUrl","newURL","form","to","uuid","oldUrl2","pageView","referror","referrer","behavior","__webSDK__","version","install","Vue","__webEyeSDK__","vue","handler","errorHandler","vm","info","pageURL","errorBoundary","react","init"],"mappings":"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"}