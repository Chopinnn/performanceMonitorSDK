{"version":3,"file":"monitor.cjs.js","sources":["../SDK/config.js","../SDK/utils.js","../SDK/cache.js","../SDK/report.js","../SDK/performance/fetch.js","../SDK/performance/observeEntries.js","../SDK/performance/observeLCP.js","../SDK/performance/observeFCP.js","../SDK/performance/observeLoad.js","../SDK/performance/observeFP.js","../SDK/performance/xhr.js","../SDK/performance/index.js","../SDK/error/index.js","../SDK/behavior/onClick.js","../SDK/behavior/pageChange.js","../SDK/behavior/pageView.js","../SDK/behavior/index.js","../SDK/webSDK.js"],"sourcesContent":["const config = {\r\n    url: '',\r\n    projectName: 'SDK',\r\n    appId: '123456',\r\n    userId: '123456',\r\n    isImageUpload: false,   // 是否使用图片上报\r\n    batchSize: 5,\r\n};\r\n\r\nexport function setConfig(options) {\r\n    for (const key in config) {\r\n        if (options[key]) {\r\n            config[key] = options[key];\r\n        }\r\n    }\r\n}\r\n\r\nexport default config;","\r\nexport function deepCopy(target) {\r\n    if (typeof target === 'object') {\r\n        const result = Array.isArray(target) ? [] : {};\r\n        for (const key in target) {\r\n            if (typeof target[key] == 'object') {\r\n                result[key] = deepCopy(target[key]);\r\n            } else {\r\n                result[key] = target[key];\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    return target\r\n}\r\n\r\nexport function generateUniqueId() {\r\n    return 'id-' + Date.now() + '-' + Math.random().toString(36).substring(2, 9)\r\n}","import { deepCopy } from './utils.js';\r\n\r\nconst cache = [];\r\n\r\nexport function getCache() {\r\n    return deepCopy(cache);\r\n}\r\n\r\nexport function addCache(data) {\r\n    cache.push(data);\r\n}\r\n\r\nexport function clearCache() {\r\n    cache.length = 0;\r\n}","import config from './config';\r\nimport {generateUniqueId} from './utils';\r\nimport {addCache, getCache, clearCache} from './cache';\r\nexport const originalProto = XMLHttpRequest.prototype;\r\nexport const originalOpen = XMLHttpRequest.prototype.open;\r\nexport const originalSend = XMLHttpRequest.prototype.send;\r\nexport function isSupportSendBeacon() {\r\n    return 'sendBeacon' in navigator;\r\n}\r\nexport function report(data) {\r\n    if (!config.url) {\r\n        console.error('请设置上传 url 地址');\r\n    }\r\n    const reportData = JSON.stringify({\r\n        id: generateUniqueId(),\r\n        data,\r\n    });\r\n    // 上报数据，使用图片的方式\r\n    if (config.isImageUpload) {\r\n        console.log('发送数据img');\r\n        imgRequest(reportData);\r\n    } else {\r\n        // 优先使用 sendBeacon\r\n        if (window.navigator.sendBeacon) {\r\n            console.log('发送数据sendBeacon');\r\n            return beaconRequest(reportData);\r\n        } else {\r\n            console.log('发送数据xhr');\r\n            xhrRequest(reportData);\r\n        }\r\n    }\r\n}\r\n\r\n// 批量上报数据\r\nexport function lazyReportBatch(data) {\r\n    addCache(data);\r\n    const dataCache = getCache();\r\n    console.log('dataCache', dataCache);\r\n    if (dataCache.length && dataCache.length > config.batchSize) {\r\n        report(dataCache);\r\n        clearCache();\r\n    }\r\n}\r\n\r\n// 图片发送数据\r\nexport function imgRequest(data) {\r\n    const img = new Image();\r\n    // http://127.0.0.1:8080/api?data=encodeURIComponent(data)\r\n    img.src = `${config.url}?data=${encodeURIComponent(JSON.stringify(data))}`;\r\n}\r\n\r\n// 普通ajax发送请求数据\r\nexport function xhrRequest(data) {\r\n    if (window.requestIdleCallback) {\r\n        window.requestIdleCallback(\r\n            () => {\r\n                const xhr = new XMLHttpRequest();\r\n                originalOpen.call(xhr, 'post', config.url);\r\n                originalSend.call(xhr, JSON.stringify(data));\r\n            },\r\n            { timeout: 3000 }\r\n        );\r\n    } else {\r\n        setTimeout(() => {\r\n            const xhr = new XMLHttpRequest();\r\n            originalOpen.call(xhr, 'post', url);\r\n            originalSend.call(xhr, JSON.stringify(data));\r\n        });\r\n    }\r\n}\r\n\r\nexport function beaconRequest(data) {\r\n    if (window.requestIdleCallback) {\r\n        window.requestIdleCallback(\r\n            () => {\r\n                window.navigator.sendBeacon(config.url, data);\r\n            },\r\n            { timeout: 3000 }\r\n        );\r\n    } else {\r\n        setTimeout(() => {\r\n            window.navigator.sendBeacon(config.url, data);\r\n        });\r\n    }\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nconst originalFetch = window.fetch;\r\nfunction overwriteFetch() {\r\n    window.fetch = function newFetch(url, config) {\r\n        const startTime = Date.now();\r\n        const reportData = {\r\n            type: 'performance',\r\n            subType: 'fetch',\r\n            url,\r\n            startTime,\r\n            method: config.method,\r\n        }\r\n        return originalFetch(url, config).then((res) => {\r\n            const endTime = Date.now();\r\n            reportData.endTime = endTime;\r\n            reportData.duration = endTime - startTime;\r\n            const data = res.clone();\r\n            reportData.status = data.status;\r\n            reportData.success = data.ok;\r\n            lazyReportBatch(reportData);\r\n            return res;\r\n        }).catch((err) => {\r\n            const endTime = Date.now();\r\n            reportData.endTime = endTime;\r\n            reportData.duration = endTime - startTime;\r\n            reportData.status = 0;\r\n            reportData.success = false;\r\n            lazyReportBatch(reportData);\r\n        });\r\n    }\r\n}\r\nexport default function fetch() {\r\n    overwriteFetch();\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerEntries() {\r\n    if (document.readyState === 'complete') {\r\n        observerEvent();\r\n    } else {\r\n        const onLoad = () => {\r\n            observerEvent();\r\n            window.removeEventListener('load', onLoad, true);\r\n        };\r\n        window.addEventListener('load', onLoad, true);\r\n    }\r\n}\r\n\r\nexport function observerEvent() {\r\n    const entryHandler = (list) => {\r\n        const entries = list.getEntries();\r\n        for (let entry of entries) {\r\n            if (observer) {\r\n                observer.disconnect();\r\n            }\r\n            const reportData = {\r\n                name: entry.name, // 资源的名字\r\n                type: 'performance', // 类型\r\n                subType: entry.entryType, //类型\r\n                sourceType: entry.initiatorType, // 资源类型\r\n                duration: entry.duration, // 加载时间\r\n                dns: entry.domainLookupEnd - entry.domainLookupStart, // dns解析时间\r\n                tcp: entry.connectEnd - entry.connectStart, // tcp连接时间\r\n                redirect: entry.redirectEnd - entry.redirectStart, // 重定向时间\r\n                ttfb: entry.responseStart, // 首字节时间\r\n                protocol: entry.nextHopProtocol, // 请求协议\r\n                responseBodySize: entry.encodedBodySize, // 响应内容大小\r\n                responseHeaderSize: entry.transferSize - entry.encodedBodySize, // 响应头部大小\r\n                transferSize: entry.transferSize, // 请求内容大小\r\n                resourceSize: entry.decodedBodySize, // 资源解压后的大小\r\n                startTime: performance.now(),\r\n            };\r\n            lazyReportBatch(reportData);\r\n        }\r\n    };\r\n\r\n    let observer = new PerformanceObserver(entryHandler);\r\n    observer.observe({ type: ['resource'], buffered: true });\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerLCP() {\r\n    const entryHandler = (list) => {\r\n        if (observer) {\r\n            observer.disconnect();\r\n        } \r\n        for (const entry of list.getEntries()) {\r\n            const json = entry.toJSON();\r\n            console.log(json);\r\n            const reportData = {\r\n                ...json,\r\n                type: 'performance',\r\n                subType: entry.name,\r\n                pageUrl: window.location.href,\r\n            }\r\n            lazyReportBatch(reportData);\r\n        }\r\n    }\r\n    // 统计和计算lcp的时间\r\n    const observer = new PerformanceObserver(entryHandler);\r\n    // buffered: true 确保观察到所有paint事件\r\n    observer.observe({type: 'largest-contentful-paint', buffered: true});\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerFCP() {\r\n    const entryHandler = (list) => {\r\n        for (const entry of list.getEntries()) {\r\n            if (entry.name === 'first-contentful-paint') {\r\n                observer.disconnect();\r\n                const json = entry.toJSON();\r\n                console.log(json);\r\n                const reportData = {\r\n                    ...json,\r\n                    type: 'performance',\r\n                    subType: entry.name,\r\n                    pageUrl: window.location.href,\r\n                }\r\n                lazyReportBatch(reportData);\r\n            }\r\n        }\r\n    }\r\n    // 统计和计算fcp的时间\r\n    const observer = new PerformanceObserver(entryHandler);\r\n    // buffered: true 确保观察到所有paint事件\r\n    observer.observe({type: 'paint', buffered: true});\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerLoad () {\r\n    window.addEventListener('pageShow', function (event) {\r\n        requestAnimationFrame(() =>{\r\n            ['load'].forEach((type) => {\r\n                const reportData = {\r\n                    type: 'performance',\r\n                    subType: type,\r\n                    pageUrl: window.location.href,\r\n                    startTime: performance.now()- event.timeStamp\r\n                }\r\n                // 发送数据\r\n                lazyReportBatch(reportData);\r\n            });\r\n        }, true);\r\n    });\r\n}\r\n","import { lazyReportBatch } from '../report';\r\n\r\nexport default function observerPaint() {\r\n    const entryHandler = (list) => {\r\n        for (const entry of list.getEntries()) {\r\n            if (entry.name === 'first-paint') {\r\n                observer.disconnect();\r\n                const json = entry.toJSON();\r\n                console.log(json);\r\n                const reportData = {\r\n                    ...json,\r\n                    type: 'performance',\r\n                    subType: entry.name,\r\n                    pageUrl: window.location.href,\r\n                }\r\n                lazyReportBatch(reportData);\r\n            }\r\n        }\r\n    }\r\n    // 统计和计算fp的时间\r\n    const observer = new PerformanceObserver(entryHandler);\r\n    // buffered: true 确保观察到所有paint事件\r\n    observer.observe({type: 'paint', buffered: true});\r\n}\r\n","import { lazyReportBatch } from '../report';\r\n\r\nexport const originalProto = XMLHttpRequest.prototype;\r\nexport const originalSend = originalProto.send;\r\nexport const originalOpen = originalProto.open;\r\n\r\nfunction overwriteOpenAndSend() {\r\n    originalProto.open = function newOpen(...args) {\r\n        this.url = args[1];\r\n        this.method = args[0];\r\n        originalOpen.apply(this, args);\r\n    }\r\n    originalProto.send = function newSend(...args) {\r\n        this.startTime = Date.now();\r\n        const onLoaded = () => {\r\n            this.endTime = Date.now();\r\n            this.duration = this.endTime - this.startTime;\r\n            const { url, method , startTime, endTime, duration, status} = this;\r\n            const reportData = {\r\n                status,\r\n                duration,\r\n                startTime,\r\n                endTime,\r\n                url,\r\n                method: method.toUpperCase(),\r\n                type: 'performance',\r\n                success: status >= 200 && status < 300,\r\n                subType: 'xhr'\r\n            }\r\n            lazyReportBatch(reportData);\r\n            this.removeEventListener('loadend', onLoaded, true);\r\n        }\r\n        // 请求结束时触发\r\n        this.addEventListener('loadend', onLoaded, true);\r\n        originalSend.apply(this, args);\r\n    }\r\n}\r\n\r\nexport default function xhr() {\r\n    overwriteOpenAndSend();\r\n}","import fetch from \"./fetch\";\r\nimport observeEntries from \"./observeEntries\";\r\nimport observeLCP from \"./observeLCP\";\r\nimport observeFCP from \"./observeFCP\";\r\nimport observeLoad from \"./observeLoad\";\r\nimport observeFP from \"./observeFP\";\r\nimport xhr from \"./xhr\";   \r\n\r\nexport default function performance() {\r\n    fetch();\r\n    observeEntries();\r\n    observeLCP();\r\n    observeFCP();\r\n    observeLoad();\r\n    observeFP();\r\n    xhr();\r\n}","\r\nimport { lazyReportBatch } from '../report';\r\n\r\nexport default function error() {\r\n    // 捕获资源加载失败的错误：js css img\r\n    window.addEventListener(\r\n        'error',\r\n        function (e) {\r\n            const target = e.target;\r\n            if (target.src || target.href) {\r\n                const url = target.src || target.href;\r\n                const reportData = {\r\n                    type: 'error',\r\n                    subType: 'resource',\r\n                    url,\r\n                    html: target.outerHTML,\r\n                    pageUrl: window.location.href,\r\n                    path: e.path,\r\n                };\r\n                lazyReportBatch(reportData);\r\n            }\r\n        },\r\n        true\r\n    );\r\n    // 捕获js错误\r\n    window.onerror = function (msg, url, lineNo, columnNo, error) {\r\n        const reportData = {\r\n            type: 'error',\r\n            subType: 'javascript',\r\n            msg,\r\n            url,\r\n            lineNo,\r\n            columnNo,\r\n            stack: error.stack,\r\n            pageUrl: window.location.href,\r\n            startTime: performance.now(),\r\n        };\r\n        lazyReportBatch(reportData);\r\n    };\r\n    // 捕获promise错误\r\n    window.addEventListener(\r\n        'unhandledrejection',\r\n        function (e) {\r\n            const reportData = {\r\n                type: 'error',\r\n                subType: 'promise',\r\n                reason: e.reason?.stack,\r\n                pageUrl: window.location.href,\r\n                startTime: e.timeStamp,\r\n            };\r\n            lazyReportBatch(reportData);\r\n        },\r\n        true\r\n    );\r\n}","import { lazyReportBatch } from '../report';\r\n\r\nexport default function onClick() {\r\n    ['mousedown', 'touchstart'].forEach((eventType) => {\r\n        window.addEventListener(eventType, (e) => {\r\n            const target = e.target;\r\n            console.warn('click', target);\r\n            if (target.tagName) {\r\n                const reportData = {\r\n                    type: 'behavior',\r\n                    subType: 'click',\r\n                    target: target.tagName,\r\n                    startTime: e.timeStamp,\r\n                    innerHtml: target.innerHTML,\r\n                    outerHtml: target.outerHTML,\r\n                    width: target.offsetWidth,\r\n                    height: target.offsetHeight,\r\n                    eventType,\r\n                    path: e.path,\r\n                };\r\n                lazyReportBatch(reportData);\r\n            }\r\n        });\r\n    });\r\n}","import { lazyReportBatch } from '../report';\r\nimport { generateUniqueId } from '../utils';\r\n\r\nexport default function pageChange() {\r\n    // hash\r\n    let oldUrl1 = '';\r\n    window.addEventListener(\r\n        'hashchange',\r\n        function (event) {\r\n            console.warn('hashchange', event);\r\n            const newUrl = event.newURL;\r\n            const reportData = {\r\n                form: oldUrl1,\r\n                to: newUrl,\r\n                type: 'behavior',\r\n                subType: 'hashchange',\r\n                startTime: performance.now(),\r\n                uuid: generateUniqueId(),\r\n            };\r\n            lazyReportBatch(reportData);\r\n            oldUrl1 = newUrl;\r\n        },\r\n        true\r\n    );\r\n    // history\r\n    let oldUrl2 = '';\r\n    window.addEventListener(\r\n        'popstate',\r\n        function (event) {\r\n            console.warn('popstate', event);\r\n            const to = window.location.href;\r\n            const reportData = {\r\n                form: oldUrl2,\r\n                to: to,\r\n                type: 'behavior',\r\n                subType: 'popstate',\r\n                startTime: performance.now(),\r\n                uuid: generateUniqueId(),\r\n            };\r\n            lazyReportBatch(reportData);\r\n            oldUrl2 = to;\r\n        },\r\n        true\r\n    );\r\n\r\n}","import { lazyReportBatch } from '../report';\r\nimport { generateUniqueId } from '../utils';\r\n\r\nexport default function pageView() {\r\n    const reportData = {\r\n        type: 'behavior',\r\n        subType: 'pageView',\r\n        startTime: performance.now(),\r\n        pageUrl: window.location.href,\r\n        referror: document.referrer,\r\n        uuid: generateUniqueId(),\r\n    }\r\n    lazyReportBatch(reportData)\r\n}","import onClick from './onClick';\r\nimport pageChange from './pageChange';\r\nimport pageView from './pageView';\r\n\r\nexport default function behavior() {\r\n    onClick(),\r\n    pageChange(),\r\n    pageView()\r\n}\r\n","import performance from './performance/index';\r\nimport error from './error/index';\r\nimport behavior from './behavior/index';\r\nimport { setConfig } from './config';\r\nimport { lazyReportBatch } from './report';\r\n\r\nwindow.__webSDK__ = {\r\n    version: '0.0.1',\r\n};\r\n\r\n// 针对Vue项目的错误捕获\r\nexport function install(Vue, options) {\r\n    if (__webEyeSDK__.vue) return;\r\n    __webEyeSDK__.vue = true;\r\n    setConfig(options);\r\n    const handler = Vue.config.errorHandler;\r\n    // vue项目中 通过 Vue.config.errorHandler 捕获错误\r\n    Vue.config.errorHandler = function (err, vm, info) {\r\n        const reportData = {\r\n            info,\r\n            error: err.stack,\r\n            subType: 'vue',\r\n            type: 'error',\r\n            startTime: window.performance.now(),\r\n            pageURL: window.location.href,\r\n        };\r\n        console.log('vue error', reportData);\r\n        lazyReportBatch(reportData);\r\n        if (handler) {\r\n            handler.call(this, err, vm, info);\r\n        }\r\n    };\r\n}\r\n\r\n// 针对React项目的错误捕获\r\nexport function errorBoundary(err, info) {\r\n    if (__webEyeSDK__.react) return;\r\n    __webEyeSDK__.react = true;\r\n    const reportData = {\r\n        error: err?.stack,\r\n        info,\r\n        subType: 'react',\r\n        type: 'error',\r\n        startTime: window.performance.now(),\r\n        pageURL: window.location.href,\r\n    };\r\n    lazyReportBatch(reportData);\r\n}\r\n\r\nexport function init(options) {\r\n    setConfig(options);\r\n    performance();\r\n    error();\r\n    behavior();\r\n}\r\n\r\nexport default {\r\n    install,\r\n    errorBoundary,\r\n    performance,\r\n    error,\r\n    behavior,\r\n    init,\r\n}"],"names":["config","url","projectName","appId","userId","isImageUpload","batchSize","setConfig","options","key","deepCopy","target","_typeof","result","Array","isArray","generateUniqueId","Date","now","Math","random","toString","substring","cache","getCache","addCache","data","push","clearCache","length","originalOpen","XMLHttpRequest","prototype","open","originalSend","send","report","console","error","reportData","JSON","stringify","id","log","imgRequest","window","navigator","sendBeacon","beaconRequest","xhrRequest","lazyReportBatch","dataCache","img","Image","src","concat","encodeURIComponent","requestIdleCallback","xhr","call","timeout","setTimeout","originalFetch","fetch","overwriteFetch","newFetch","startTime","type","subType","method","then","res","endTime","duration","clone","status","success","ok","catch","err","observerEntries","document","readyState","observerEvent","onLoad","removeEventListener","addEventListener","entryHandler","list","entries","getEntries","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","value","observer","disconnect","name","entryType","sourceType","initiatorType","dns","domainLookupEnd","domainLookupStart","tcp","connectEnd","connectStart","redirect","redirectEnd","redirectStart","ttfb","responseStart","protocol","nextHopProtocol","responseBodySize","encodedBodySize","responseHeaderSize","transferSize","resourceSize","decodedBodySize","performance","e","f","PerformanceObserver","observe","buffered","observerLCP","json","toJSON","_objectSpread","pageUrl","location","href","observerFCP","observerLoad","event","requestAnimationFrame","forEach","timeStamp","observerPaint","originalProto","overwriteOpenAndSend","newOpen","_len","arguments","args","_key","apply","newSend","_this","onLoaded","toUpperCase","_len2","_key2","observeEntries","observeLCP","observeFCP","observeLoad","observeFP","html","outerHTML","path","onerror","msg","lineNo","columnNo","stack","_e$reason","reason","onClick","eventType","warn","tagName","innerHtml","innerHTML","outerHtml","width","offsetWidth","height","offsetHeight","pageChange","oldUrl1","newUrl","newURL","form","to","uuid","oldUrl2","pageView","referror","referrer","behavior","__webSDK__","version","install","Vue","__webEyeSDK__","vue","handler","errorHandler","vm","info","pageURL","errorBoundary","react","init"],"mappings":"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"}